# Database (connection_limit рекомендуется для продакшена при 1–2k+ пользователях)
DATABASE_URL=postgresql://vpn:vpn_secret@localhost:5432/vpn?connection_limit=20

# Redis
REDIS_URL=redis://localhost:6379

# Backend
PORT=3000
NODE_ENV=development

# JWT (admin panel)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES=7d

# Admin credentials (single role: admin)
ADMIN_LOGIN=admin
ADMIN_PASSWORD=admin

# Bot <-> Backend API key (same value in bot and backend)
BOT_API_KEY=your-bot-api-key

# Admin panel CORS
ADMIN_ORIGIN=http://localhost:3001

# Telegram Bot (для бота и backend — уведомления при удалении подписки, миграции и т.д.)
TELEGRAM_BOT_TOKEN=123456:ABC-DEF...
# --- Локальная разработка (если Telegram заблокирован) — один из вариантов:
# Вариант 1: прокси (Tor, VPN с SOCKS5)
# TELEGRAM_PROXY=socks5://127.0.0.1:9050
# Вариант 2: локальный Bot API сервер (backend и бот используют один и тот же BOT_API_URL)
# При запуске через npm run dev: backend → http://localhost:8081 или http://127.0.0.1:8081
# При запуске через docker-compose: backend → http://host.docker.internal:8081 (localhost из контейнера недоступен)
# BOT_API_URL=http://127.0.0.1:8081

# Ссылка на поддержку (кнопка в боте). Пример: https://t.me/support_username
# BOT_SUPPORT_LINK=https://t.me/your_support

# Webhook (рекомендуется для 1–2k+ пользователей, лучше чем polling)
WEBHOOK_DOMAIN=https://your-domain.com
WEBHOOK_PATH=/webhook
BOT_PORT=3002
# BOT_USE_WEBHOOK=1 — включить webhook (при WEBHOOK_DOMAIN)

# Admin frontend (build-time for Docker)
NEXT_PUBLIC_API_URL=http://localhost:3000

# RioPay (пополнение баланса в боте)
RIOPAY_API_TOKEN=your-riopay-api-token
# RIOPAY_SKIP_IP_VERIFY=1  # только для отладки: отключить проверку IP webhook
# URL перенаправления после оплаты (опционально)
RIOPAY_SUCCESS_URL=https://t.me/your_bot

# MaxelPay (пополнение баланса, приоритет над RioPay при настройке обоих)
MAXELPAY_API_KEY=pk_live_your_api_key
MAXELPAY_SECRET_KEY=sk_live_your_secret_key
# URL перенаправления после оплаты
MAXELPAY_SUCCESS_URL=https://t.me/your_bot
# URL webhook (обязательно для приёма уведомлений о платежах)
MAXELPAY_CALLBACK_URL=https://your-domain.com/payments/maxelpay/webhook
